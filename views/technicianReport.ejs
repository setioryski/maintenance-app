<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maintenance History</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
  <div class="max-w-6xl mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6 text-center">Maintenance History</h1>
    
    <table class="min-w-full bg-white shadow-md rounded overflow-hidden">
      <thead>
        <tr class="bg-gray-200">
          <th class="py-2 px-4">Asset Name</th>
          <th class="py-2 px-4">Checklist Title</th>
          <th class="py-2 px-4">Technician</th>
          <th class="py-2 px-4">Submitted Date</th>
          <th class="py-2 px-4">Submitted Time</th>
          <th class="py-2 px-4">Action</th>
        </tr>
      </thead>
      <tbody>
        <% assignments.forEach(function(assignment) { %>
          <tr class="border-b">
            <td class="py-2 px-4"><%= assignment.asset.name %></td>
            <td class="py-2 px-4"><%= assignment.checklist ? assignment.checklist.title : 'N/A' %></td>
            <td class="py-2 px-4"><%= assignment.submittedBy ? assignment.submittedBy.name : 'N/A' %></td>
            <td class="py-2 px-4"><%= new Date(assignment.completedAt).toLocaleDateString() %></td>
            <td class="py-2 px-4"><%= new Date(assignment.completedAt).toLocaleTimeString() %></td>
            <td class="py-2 px-4">
              <a href="/technician/report/<%= assignment._id %>" class="bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded">
                View Details
              </a>
            </td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
  
  <!-- Navigation Links -->
  <div class="max-w-6xl mx-auto mt-4 flex justify-end space-x-4">
    <a href="/technician/dashboard" class="text-blue-500 hover:text-blue-700">Dashboard</a>
    <a href="/logout" class="text-blue-500 hover:text-blue-700">Logout</a>
  </div>
</body>
</html>
